ALL: classes headers objs sharedo doc

classes:
	javac -d . java/jfftw/*.java
	javac -d . java/jfftw/complex/*.java
	javac -d . java/jfftw/complex/nd/*.java
	javac -d . java/jfftw/real/*.java
	javac -d . java/jfftw/real/nd/*.java

headers: classes
	javah -d c jfftw.complex.Plan jfftw.complex.nd.Plan jfftw.real.Plan jfftw.real.nd.Plan jfftw.Wisdom

objs: headers
	gcc -c -I$(JAVA_HOME)/include -I$(JAVA_HOME)/include/linux -I$(HOME)/fftw-2.1.3/fftw -I$(HOME)/fftw-2.1.3/rfftw c/jfftw_*.c

sharedo: objs
	gcc -o libjfftw.so -fPIC -shared jfftw_*.o -Wl,-R/usr/local/lib -lfftw -lrfftw

#doc: classes
#	javadoc jfftw -d doc -sourcepath java -subpackages jfftw.complex:jfftw.complex.nd:jfftw.real:jfftw.real.nd

